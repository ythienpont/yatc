\doxysection{File\+Manager Class Reference}
\hypertarget{classFileManager}{}\label{classFileManager}\index{FileManager@{FileManager}}


Abstract class providing an interface for file read/write operations in a torrent system.  




{\ttfamily \#include $<$File\+Manager.\+h$>$}

Inheritance diagram for File\+Manager\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classFileManager}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classFileManager_a36b7a8bcda7d424f9cb24e9062cf7b19}\label{classFileManager_a36b7a8bcda7d424f9cb24e9062cf7b19} 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+File\+Manager} ()=default
\begin{DoxyCompactList}\small\item\em Virtual destructor to allow for cleanup in derived classes. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classFileManager_a07e533081a76aaee9c8f7478799419d9}{write\+Block}} (const size\+\_\+t piece\+Index, const \mbox{\hyperlink{structBlockInfo}{Block\+Info}} \&block, const std\+::vector$<$ char $>$ \&data)=0
\begin{DoxyCompactList}\small\item\em Writes a block of data to the appropriate file and position. \end{DoxyCompactList}\item 
virtual std\+::vector$<$ char $>$ \mbox{\hyperlink{classFileManager_a32d557fbe0cdb278e54009110035729e}{read\+Block}} (const size\+\_\+t piece\+Index, const \mbox{\hyperlink{structBlockInfo}{Block\+Info}} \&block) const =0
\begin{DoxyCompactList}\small\item\em Reads a block of data from the appropriate file and position. \end{DoxyCompactList}\item 
\Hypertarget{classFileManager_a883687a9a43b20bbbd82032d7e36569b}\label{classFileManager_a883687a9a43b20bbbd82032d7e36569b} 
virtual void {\bfseries pre\+Allocate\+Space} ()=0
\begin{DoxyCompactList}\small\item\em Pre-\/allocates disk space to optimize file writing operations. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classFileManager_ac855664d52f17fde6840328bfeaf68a0}{total\+File\+Size}} () const
\begin{DoxyCompactList}\small\item\em Calculates the total size of all files managed by the \doxylink{classFileManager}{File\+Manager}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classFileManager_ac49c84adbe233ef45846762ea394a45b}{File\+Manager}} (const std\+::vector$<$ \mbox{\hyperlink{structFileInfo}{File\+Info}} $>$ \&files, const size\+\_\+t piece\+Length)
\begin{DoxyCompactList}\small\item\em Constructor initializing the \doxylink{classFileManager}{File\+Manager} with a list of files and piece length. \end{DoxyCompactList}\item 
std\+::pair$<$ size\+\_\+t, size\+\_\+t $>$ \mbox{\hyperlink{classFileManager_a6f31891bedaef9d327354c36e50b4d50}{get\+Block\+Bounds}} (const size\+\_\+t piece\+Index, const \mbox{\hyperlink{structBlockInfo}{Block\+Info}} \&block) const
\begin{DoxyCompactList}\small\item\em Calculates the global start and end offsets for a given block within a piece. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classFileManager_a2ff924902b0ae7cf3901303da5f4def7}{calculate\+Data\+Offset}} (const \mbox{\hyperlink{structBlockInfo}{Block\+Info}} \&block) const
\begin{DoxyCompactList}\small\item\em Calculates the offset of data within a block. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classFileManager_a7b289f7639665e8de08542148f539d1c}{write\+Piece}} (const size\+\_\+t piece\+Index)=0
\begin{DoxyCompactList}\small\item\em Writes a full piece to the appropriate location. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classFileManager_a5aa6108095072645631617bba133947a}{total\+Pieces}} () const
\begin{DoxyCompactList}\small\item\em Returns the total number of pieces based on the file sizes and piece length. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classFileManager_ac864e73b7b86f341d5a2eea75861e6ec}\label{classFileManager_ac864e73b7b86f341d5a2eea75861e6ec} 
std\+::vector$<$ \mbox{\hyperlink{structFileInfo}{File\+Info}} $>$ {\bfseries files\+\_\+}
\begin{DoxyCompactList}\small\item\em List of files associated with the torrent. \end{DoxyCompactList}\item 
\Hypertarget{classFileManager_a06208c627b46cb9e0b45d67c4f95f675}\label{classFileManager_a06208c627b46cb9e0b45d67c4f95f675} 
size\+\_\+t {\bfseries piece\+Length\+\_\+}
\begin{DoxyCompactList}\small\item\em Length of each piece in bytes. \end{DoxyCompactList}\item 
\Hypertarget{classFileManager_a560f141d08b6f921f2949833e81136bc}\label{classFileManager_a560f141d08b6f921f2949833e81136bc} 
std\+::vector$<$ std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classPieceBuffer}{Piece\+Buffer}} $>$ $>$ {\bfseries piece\+Buffers\+\_\+}
\begin{DoxyCompactList}\small\item\em Buffers for managing piece data. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Abstract class providing an interface for file read/write operations in a torrent system. 

Defines the basic functionality for reading and writing pieces and blocks of data associated with torrent files. This class should be subclassed for specific operating systems or file systems to handle file operations appropriately. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classFileManager_ac49c84adbe233ef45846762ea394a45b}\label{classFileManager_ac49c84adbe233ef45846762ea394a45b} 
\index{FileManager@{FileManager}!FileManager@{FileManager}}
\index{FileManager@{FileManager}!FileManager@{FileManager}}
\doxysubsubsection{\texorpdfstring{FileManager()}{FileManager()}}
{\footnotesize\ttfamily File\+Manager\+::\+File\+Manager (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{structFileInfo}{File\+Info}} $>$ \&}]{files,  }\item[{const size\+\_\+t}]{piece\+Length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Constructor initializing the \doxylink{classFileManager}{File\+Manager} with a list of files and piece length. 


\begin{DoxyParams}{Parameters}
{\em files} & Vector of \doxylink{structFileInfo}{File\+Info} structures detailing the files. \\
\hline
{\em piece\+Length} & Length of each piece in bytes. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classFileManager_a2ff924902b0ae7cf3901303da5f4def7}\label{classFileManager_a2ff924902b0ae7cf3901303da5f4def7} 
\index{FileManager@{FileManager}!calculateDataOffset@{calculateDataOffset}}
\index{calculateDataOffset@{calculateDataOffset}!FileManager@{FileManager}}
\doxysubsubsection{\texorpdfstring{calculateDataOffset()}{calculateDataOffset()}}
{\footnotesize\ttfamily size\+\_\+t File\+Manager\+::calculate\+Data\+Offset (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structBlockInfo}{Block\+Info}} \&}]{block }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Calculates the offset of data within a block. 


\begin{DoxyParams}{Parameters}
{\em block} & Details about the block. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Offset of the data within the block. 
\end{DoxyReturn}
\Hypertarget{classFileManager_a6f31891bedaef9d327354c36e50b4d50}\label{classFileManager_a6f31891bedaef9d327354c36e50b4d50} 
\index{FileManager@{FileManager}!getBlockBounds@{getBlockBounds}}
\index{getBlockBounds@{getBlockBounds}!FileManager@{FileManager}}
\doxysubsubsection{\texorpdfstring{getBlockBounds()}{getBlockBounds()}}
{\footnotesize\ttfamily std\+::pair$<$ size\+\_\+t, size\+\_\+t $>$ File\+Manager\+::get\+Block\+Bounds (\begin{DoxyParamCaption}\item[{const size\+\_\+t}]{piece\+Index,  }\item[{const \mbox{\hyperlink{structBlockInfo}{Block\+Info}} \&}]{block }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Calculates the global start and end offsets for a given block within a piece. 


\begin{DoxyParams}{Parameters}
{\em piece\+Index} & Index of the piece. \\
\hline
{\em block} & \doxylink{structBlockInfo}{Block\+Info} structure describing the block. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pair of size\+\_\+t values indicating the start and end offsets. 
\end{DoxyReturn}
\Hypertarget{classFileManager_a32d557fbe0cdb278e54009110035729e}\label{classFileManager_a32d557fbe0cdb278e54009110035729e} 
\index{FileManager@{FileManager}!readBlock@{readBlock}}
\index{readBlock@{readBlock}!FileManager@{FileManager}}
\doxysubsubsection{\texorpdfstring{readBlock()}{readBlock()}}
{\footnotesize\ttfamily virtual std\+::vector$<$ char $>$ File\+Manager\+::read\+Block (\begin{DoxyParamCaption}\item[{const size\+\_\+t}]{piece\+Index,  }\item[{const \mbox{\hyperlink{structBlockInfo}{Block\+Info}} \&}]{block }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Reads a block of data from the appropriate file and position. 


\begin{DoxyParams}{Parameters}
{\em piece\+Index} & Index of the piece from which to read. \\
\hline
{\em block} & Details about the block to read (offset and size). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Vector containing the read data. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classLinuxFileManager_a8ba3b593fa8ff198c9e1d14f44e279e5}{Linux\+File\+Manager}}.

\Hypertarget{classFileManager_ac855664d52f17fde6840328bfeaf68a0}\label{classFileManager_ac855664d52f17fde6840328bfeaf68a0} 
\index{FileManager@{FileManager}!totalFileSize@{totalFileSize}}
\index{totalFileSize@{totalFileSize}!FileManager@{FileManager}}
\doxysubsubsection{\texorpdfstring{totalFileSize()}{totalFileSize()}}
{\footnotesize\ttfamily size\+\_\+t File\+Manager\+::total\+File\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Calculates the total size of all files managed by the \doxylink{classFileManager}{File\+Manager}. 

\begin{DoxyReturn}{Returns}
Size of all files in bytes. 
\end{DoxyReturn}
\Hypertarget{classFileManager_a5aa6108095072645631617bba133947a}\label{classFileManager_a5aa6108095072645631617bba133947a} 
\index{FileManager@{FileManager}!totalPieces@{totalPieces}}
\index{totalPieces@{totalPieces}!FileManager@{FileManager}}
\doxysubsubsection{\texorpdfstring{totalPieces()}{totalPieces()}}
{\footnotesize\ttfamily size\+\_\+t File\+Manager\+::total\+Pieces (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Returns the total number of pieces based on the file sizes and piece length. 

\begin{DoxyReturn}{Returns}
Total number of pieces. 
\end{DoxyReturn}
\Hypertarget{classFileManager_a07e533081a76aaee9c8f7478799419d9}\label{classFileManager_a07e533081a76aaee9c8f7478799419d9} 
\index{FileManager@{FileManager}!writeBlock@{writeBlock}}
\index{writeBlock@{writeBlock}!FileManager@{FileManager}}
\doxysubsubsection{\texorpdfstring{writeBlock()}{writeBlock()}}
{\footnotesize\ttfamily virtual bool File\+Manager\+::write\+Block (\begin{DoxyParamCaption}\item[{const size\+\_\+t}]{piece\+Index,  }\item[{const \mbox{\hyperlink{structBlockInfo}{Block\+Info}} \&}]{block,  }\item[{const std\+::vector$<$ char $>$ \&}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Writes a block of data to the appropriate file and position. 


\begin{DoxyParams}{Parameters}
{\em piece\+Index} & Index of the piece to which the block belongs. \\
\hline
{\em block} & Details about the block (offset and size). \\
\hline
{\em data} & Data to be written. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the write operation was successful, false otherwise. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classLinuxFileManager_a3bc01a8aa5c29d1af1fe17ba7b0f047d}{Linux\+File\+Manager}}.

\Hypertarget{classFileManager_a7b289f7639665e8de08542148f539d1c}\label{classFileManager_a7b289f7639665e8de08542148f539d1c} 
\index{FileManager@{FileManager}!writePiece@{writePiece}}
\index{writePiece@{writePiece}!FileManager@{FileManager}}
\doxysubsubsection{\texorpdfstring{writePiece()}{writePiece()}}
{\footnotesize\ttfamily virtual bool File\+Manager\+::write\+Piece (\begin{DoxyParamCaption}\item[{const size\+\_\+t}]{piece\+Index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}



Writes a full piece to the appropriate location. 


\begin{DoxyParams}{Parameters}
{\em piece\+Index} & Index of the piece to write. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if successful, false otherwise. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/yonah/\+School/\+PRO/yatc/src/\+File\+Manager/File\+Manager.\+h\item 
/home/yonah/\+School/\+PRO/yatc/src/\+File\+Manager/File\+Manager.\+cc\end{DoxyCompactItemize}
